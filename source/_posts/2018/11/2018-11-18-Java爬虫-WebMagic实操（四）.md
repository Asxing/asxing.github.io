---
title: Java爬虫-WebMagic实操（四）
author: HoldDie
tags: [Java,爬虫,WebMagic]
top: false
date: 2018-11-18 19:43:41
categories: 爬虫
---



当你闭上双眼，暴风雨便在梦中酝酿。 ——点芳华



### 爬取 `Ajax` 网页数据

> 使用 Ajax 使用纯原生的 PhantomJS ，在请求数据的时候，当请求一个数据的时候是没有问题的，换成两个就开始报错，莫名不好使，自己目前怀疑是启动的脚本有问题，或者自己实现的 Downloader 有问题，
>
> 之后开始使用 Selenium 使用浏览器进行模拟，此时就需要安装浏览器的驱动 chromeDriver，进行浏览器驱动的数据抓取，此处有一个坑，就是当我们使用Selenium的时候，必须等待数据加载，否则就会数据还没有加载完，此时数据只有未渲染的最原始的页面，需要休息几秒。

### 使用 Selenium 工具

### 使用Cookie模拟登陆

> 使用Cookie模拟登陆，官方文档在Site对象里面直接设置Cookie，访问对应的页面就可以抓取到数据，但是到我自己的时候发现无论如何修改请求头的数据，发现都无济于事，同时自己只用抓取一个页面，我的请求链接中只有一个URL，但是实际中应该为至少两个，第一个的URL的作用就是设置Cookie，第二个为真正需要处理的逻辑