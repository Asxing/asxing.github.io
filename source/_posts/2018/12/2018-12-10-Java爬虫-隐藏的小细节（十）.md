---
title: Java爬虫-隐藏的小细节（十）
author: HoldDie
tags: [Java,思路,爬虫]
top: false
date: 2018-12-10 19:43:41
categories: 爬虫
---



**乌云遮蔽了整个天空，闪电便已在其中酝酿。 ——飞行的河马**



> 主要记录一些有趣的思路

赤狐为例，通常我们可以从cookie里面看到jsessionid这个参数通常用于记录session。

所以经常我们会遇到关闭浏览器或者一段时间，然后这个值变化导致请求失败。

形象的描述下，类似于自助餐厅门票，当我们出门或者过了时间段，就要重新买票了。

而且我们要保证这后续爬取正常，这个session要保持一致不能关闭。

比如我们可能犯的错误把session关闭或者一段时间后还是拿着被废弃的门票想去吃霸王餐

干不了活了，咋办，互相伤害呗，我换个透明IP去骗你服务器。

怎么不行，被识破了，一看没有混淆，采用高匿IP美滋滋。

我只想说温柔点，请求频率适当降低，做个IP池才能妥善处理。

打码平台http://www.fateadm.com/index.html#fa-about

Selenium 应用场景

1页面点击拖动，加载内容

2元素拖动，验证码破解

3执行js,数据获取

4模拟登入

5参数无法获取

新版滑动验证码识别：https://blog.csdn.net/qq_36783371/article/details/79866164

针对于请求头中的Cookie，有些参数可以不填但是必须存在，如下把baiduid= ，这种方法很适用

对于调参中，先看header,不知道refer 要不要，但是写死的

最后有个致命问题，为了过滤我选择加入set。如果url过多很可能内存溢出。

真不如直接直接处理掉，以后也不会这么写，可能会重复。

http://music.sonimei.cn/ 音乐插件，直接解析音乐原地址